README – Code and Data for

“Global Burden of Hip Osteoarthritis and High BMI Attribution from 1990 to 2021: Decomposition of Drivers and Policy Scenario Assessment Based on GBD 2021”

1. Overview

These archives contain the R code and source datafiles used to reproduce the analyses, figures, and tables in the manuscript:

Ren Z et al. Global Burden of Hip Osteoarthritis and High BMI Attribution from 1990 to 2021: Decomposition of Drivers and Policy Scenario Assessment Based on GBD 2021.

The material is organized to allow full reproduction of:

Main text: Figures 1–4, Tables 1–2

Supplementary material: Additional files S1–S13 (maps, joinpoint results, decomposition summaries, PAF tables, and policy scenario outputs)

All analyses are based on publicly available Global Burden of Disease Study 2021 (GBD 2021) estimates obtained from the Global Health Data Exchange (GHDx) and IHME SDI files, as described in the Methods and Additional file S11 of the manuscript.

2. Software environment

Analyses were conducted in:

R version: 4.4.3

Operating system: Windows (64-bit)

The main R packages used are:

Data handling and manipulation: dplyr, tidyr, purrr, readr, readxl, stringr, data.table

Plotting and mapping: ggplot2, ggmap, maps, sf, tmaptools, cols4all, patchwork, cowplot, ggtext, ggdist, scales

Statistical modelling: strucchange (joinpoint regression / structural breaks), truncnorm

Table and document export: flextable, officer

A full sessionInfo() output (including exact package versions) is provided in:

code/sessionInfo_R4.4.3.txt

Users are encouraged to refer to this file for exact package versions. All packages are available from CRAN.

3. Directory structure

The archive is organized as follows (relative to the project root):

.
├── code/
│   ├── 01_global_ASPR_map_and_summaries.R
│   ├── 02_global_age_sex_prevalence.R
│   ├── 03_SDI_correlation_ASDR_and_PAF.R
│   ├── 04_joinpoint_ASDR_trends.R
│   ├── 05_das_gupta_decomposition_DALYs.R
│   ├── 06_BMI_PAF_maps_and_changes.R
│   ├── 07_PAF_joinpoint_trends.R
│   ├── 08_policy_scenario_simulation.R
│   ├── 09_PAF_SDI_correlation.R
│   └── sessionInfo_R4.4.3.txt
├── data_raw/
│   ├── 204counties_1990to2021.csv
│   ├── Global_21Regions_1990to2021.csv
│   ├── 7big+1global.csv
│   ├── Global_21Regions_change.csv
│   ├── 7big+1global_change.csv
│   ├── Global_2021_AgeandSex.csv
│   ├── SDI_1990-2021.csv
│   ├── IHME_GBD_SDI_2021_SDI_1950_2021_Y2024M05D16.csv
│   ├── order_globalandregions.csv
│   ├── list_global_21regions_204countries.xlsx
│   ├── Risk_factor_2021.csv
│   ├── all_time_risk_204_country.csv
│   ├── all_time_risk_204_country_change.csv
│   ├── 90_21_risk_7+1region.csv
│   ├── 90_21_risk_21region.csv
│   ├── all_time_risk_7+1region_change.csv
│   ├── risk_21region_change.csv
│   ├── all_time_risk_7+1region.csv
│   ├── all_time_risk_21+global_region.csv
│   ├── Das_Gupta_7region+5sdi+global_DALYs.csv
│   ├── Das_Gupta_7region+5sdi+global_populations.csv
│   ├── 1+5+7_number.csv
│   └── 2021_risk_global+7region+5sdi.csv
├── source datafiles/
│   ├── ASPR_2021_with_change_7super_21region_204countries.csv
│   ├── Prevalence_hip_2021_ASR_summary.csv
│   ├── Prevalence_hip_age_sex_summary_2021.csv
│   ├── SDI_vs_DALY_summary_1990_2021.csv
│   ├── SDI_vs_DALY_204countries_summary_2021.csv
│   ├── PAF_summary_table_hip_BMI.csv
│   ├── joinpoint_analysis_summary_R_main.csv
│   ├── PAF_joinpoint_analysis_7superregions.csv
│   ├── Policy_Scenario_1+5+7_Table.csv
│   └── das_gupta_decomposition_summary_with_CI_FINAL.csv
└── output/
    ├── Figure1_joinpoint_ASDR_and_PAF.pdf
    ├── Figure2_Das_Gupta_decomposition.pdf
    ├── Figure3_BMI_PAF_maps_and_changes.pdf
    ├── Figure4_policy_scenarios_DALY_reduction.pdf
    ├── S1_ASPR_global_map_2021.tif
    ├── S2_ASPR_2021_summaries.tif
    ├── S3_age_sex_prevalence_2021.tif
    ├── S4_SDI_correlation_plots.tif
    ├── S5_ASDR_joinpoint_21regions.tif
    ├── S6_Das_Gupta_21regions.tif
    ├── S7_PAF_summary_plots.tif
    ├── S8_PAF_204countries_table.xlsx
    ├── S9_PAF_joinpoint_21regions.tif
    ├── S10_21regions_decomposition_and_scenarios.docx
    ├── S12_AAPC_ASDR_results.xlsx
    └── S13_APPC_PAF_results.xlsx


Notes:

File names in your local copy may differ slightly; the key requirement is that the CSV/XLSX inputs in data_raw/ match the names used in the scripts under code/.

All data_raw/*.csv and data_raw/*.xlsx files are minimally processed exports from GBD 2021 (via GHDx) or IHME SDI repositories, as documented in the manuscript and Additional file S11.

source datafiles/ contains intermediate files generated by the scripts and used to build figures and tables in the manuscript.

4. Data sources

All raw data in data_raw/ were obtained from:

GBD 2021 Results Tool and GHDx (IHME)

Hip osteoarthritis prevalence, DALYs, and YLDs by location, year, age, and sex

High BMI–attributable DALYs and PAFs for hip OA

Locations: Global, 7 super-regions, 21 GBD regions, 204 countries

Years: 1990–2021

IHME SDI files

Sociodemographic Index (SDI) values for all locations and years (1950–2021)

For transparency and reproducibility, we include the minimally processed export files used as inputs to the analysis (e.g. 204counties_1990to2021.csv, Global_21Regions_1990to2021.csv, 7big+1global.csv, and risk-factor files). These are direct or lightly reshaped exports (column renaming, filtering) from the GHDx tools.

No confidential or non-public data are included.

5. How to reproduce the main results
5.1 General instructions

Install R (≥ 4.4.3).

Install the required packages using install.packages() for the packages listed in Section 2.

Set the working directory to the project root (the folder containing code/, data_raw/, etc.), e.g.:

setwd("path/to/HipOA_BMI_GBD2021_project")


Ensure that all data_raw/*.csv and data_raw/*.xlsx files are present and that their filenames match those referenced in the scripts.

5.2 Script-level workflow

Below we summarize the role of each main script and its primary outputs.

(1) Global ASPR map and country summaries

Script: code/01_global_ASPR_map_and_summaries.R

Inputs (from data_raw/):

204counties_1990to2021.csv

Global_21Regions_1990to2021.csv

7big+1global.csv

GBD_maps.RData (shapefiles and location metadata; provided in data_raw/ or code/)

Key outputs:

Global map of age-standardized prevalence rates (ASPR) in 2021 with highlighted subregions

output/S1_ASPR_global_map_2021.tif

Country-, region-, and super-region–level ASPR summaries and changes

source datafiles/ASPR_2021_with_change_7super_21region_204countries.csv

Descriptive statistics used in Additional files S1–S2.

This script corresponds to the global prevalence maps and summary plots described in Additional files S1–S2.

(2) Age–sex distribution of hip OA prevalence

Script: code/02_global_age_sex_prevalence.R

Inputs:

Global_2021_AgeandSex.csv

Key outputs:

Summary table of prevalence by age group and sex (number of cases and rates with 95% UI):

source datafiles/Prevalence_hip_age_sex_summary_2021.csv

Combined bar–line plot showing total cases (bars) and prevalence rates (lines) by age and sex:

output/S3_age_sex_prevalence_2021.tif

This script underlies the age–sex results in the main text (Results: Global and Regional Hip OA Burden…) and Additional file S3.

(3) SDI correlation with ASDR and PAF

Script: code/03_SDI_correlation_ASDR_and_PAF.R

Inputs:

SDI_1990-2021.csv

Global_21Regions_1990to2021.csv

204counties_1990to2021.csv

Key outputs:

Summary table of SDI and ASDR changes (1990 vs. 2021) by region:

source datafiles/SDI_vs_DALY_summary_1990_2021.csv

Correlation plots (LOESS + Pearson r) for SDI vs. ASDR (regional and national):

output/S4_SDI_correlation_plots.tif

These outputs are used for the SDI–ASDR correlations reported in the Results and shown in Additional file S4.

(4) Joinpoint analysis of ASDR trends

Script: code/04_joinpoint_ASDR_trends.R

Inputs:

7big+1global.csv (ASDR by year for Global and 7 super-regions)

Key outputs:

Joinpoint regression results (segments, APC, AAPC) for ASDR:

source datafiles/joinpoint_analysis_summary_R_main.csv

Multipanel plot of ASDR trends with joinpoints and fitted curves:

output/Figure1_joinpoint_ASDR_and_PAF.pdf (ASDR component)

output/S5_ASDR_joinpoint_21regions.tif (regional details)

These results directly support Figure 1A and Additional file S5 (Regional ASDR trends).

(5) Das Gupta decomposition of DALY changes

Script: code/05_das_gupta_decomposition_DALYs.R

Inputs:

Das_Gupta_7region+5sdi+global_DALYs.csv

Das_Gupta_7region+5sdi+global_populations.csv

Key outputs:

Decomposition of DALY changes (1990–2021) into population growth, population ageing, and epidemiological change, for Global, 7 super-regions, and 5 SDI groups, with 95% UI:

source datafiles/das_gupta_decomposition_summary_with_CI_FINAL.csv

Multipanel “lollipop” or bar plots summarizing decomposition components:

output/Figure2_Das_Gupta_decomposition.pdf

output/S6_Das_Gupta_21regions.tif

This script underlies Table 2, Figure 2, and Additional files S6 and S10.

(6) BMI PAF maps and 1990–2021 changes

Script: code/06_BMI_PAF_maps_and_changes.R

Inputs:

all_time_risk_204_country.csv

all_time_risk_204_country_change.csv

90_21_risk_7+1region.csv

90_21_risk_21region.csv

risk_21region_change.csv

GBD_maps.RData

Key outputs:

Country-level map of BMI-attributable PAF in 2021

Country-level map of relative/absolute PAF changes (1990–2021):

output/Figure3_BMI_PAF_maps_and_changes.pdf

Summary table of PAF in 2021 and changes from 1990–2021:

source datafiles/PAF_summary_table_hip_BMI.csv

output/S8_PAF_204countries_table.xlsx

This script underpins Figure 3 and Additional files S7–S8.

(7) Joinpoint analysis of BMI PAF trends

Script: code/07_PAF_joinpoint_trends.R

Inputs:

all_time_risk_7+1region.csv

Key outputs:

Joinpoint regression of PAF (%) over time for Global and 7 super-regions; AAPC and segment-specific APPC estimates:

source datafiles/PAF_joinpoint_analysis_7superregions.csv

Multipanel plot of PAF trends with joinpoints and fitted lines:

output/Figure1_joinpoint_ASDR_and_PAF.pdf (PAF panel)

output/S9_PAF_joinpoint_21regions.tif

These results correspond to Figure 1B and Additional files S9 and S13.

(8) Policy scenario simulation (5%, 10%, 15% reduction in high-BMI exposure)

Script: code/08_policy_scenario_simulation.R

Inputs:

1+5+7_number.csv (hip OA DALYs, all ages, Global, 7 super-regions, 5 SDI groups)

2021_risk_global+7region+5sdi.csv (BMI PAF for hip OA, same strata)

Key outputs:

Monte Carlo estimates (N=1,000 draws) of the percentage DALY reduction and absolute DALYs averted under 5%, 10%, and 15% high-BMI exposure reductions, with 95% UI:

source datafiles/Policy_Scenario_1+5+7_Table.csv

output/Policy_Scenario_1+5+7_Table.docx

Interval plots for each scenario, by stratum (Global, 7 super-regions, 5 SDI groups):

output/Figure4_policy_scenarios_DALY_reduction.pdf

These outputs correspond to Table 2 (policy columns), Figure 4, and Additional file S10.

The script implements the Monte Carlo approach described in the Methods and Additional file S11: DALYs are treated as lognormal, PAFs as normal or logit-normal depending on bounds, with GBD 95% UIs used to parameterize the sampling distributions.

(9) PAF–SDI correlation (21 regions, 204 countries, 2021)

Script: code/09_PAF_SDI_correlation.R

Inputs:

IHME_GBD_SDI_2021_SDI_1950_2021_Y2024M05D16.csv

all_time_risk_21+global_region.csv

Key outputs:

Correlation and LOESS plots of SDI vs. BMI PAF for 21 GBD regions (2021):

output/PAF_vs_SDI_21regions_2021.pdf

Statistics used in Additional file S4C–D.

These results support the PAF–SDI correlation statements in the Results.

6. Randomness and reproducibility

All Monte Carlo simulations use set.seed() (e.g. set.seed(2025)) before generating random draws to ensure reproducibility.

The number of iterations is fixed at N = 1,000, as reported in the paper.


Scenario outputs (e.g. 3.10% [0.43–6.53%] global DALY reduction under the 10% high-BMI exposure reduction scenario) are directly obtained from these scripts and correspond to the values in Table 2 and the text.


